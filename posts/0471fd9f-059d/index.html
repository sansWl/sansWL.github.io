<!DOCTYPE html><html class="font-sans scroll-smooth" lang=zh-CN><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1,viewport-fit=cover" name=viewport><link href=/icons/favicon.svg rel=icon type=image/svg+xml><title>Neo4j 快速入门学习 | SANSWL&#39;s BLOG</title><meta content="官网文档：https://neo4j.com/docs/getting-started/ 1 : 创建免费的云库 Neo4j AuraDB: Fully Managed Graph Database ：https://neo4j.com..." name=description><meta content=SANSWL name=author><meta content="Astro v5.13.8" name=generator><meta content="oklch(22% 0.005 298)" name=theme-color><link href=/fonts/EarlySummer-VF-Split/EarlySummer-VF-Subset.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Snell-Black-SF.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Snell-Bold-SF.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/STIX-VF.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/STIX-Italic-VF.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/_astro/katex.min.COXD5gRV.css rel=stylesheet media=print onload="this.media=&#34;all&#34;"><link href=https://sanswl.github.io/posts/0471fd9f-059d/ rel=canonical><link href=/sitemap-index.xml rel=sitemap><link href=/rss.xml rel=alternate type=application/rss+xml title="RSS Feed"><link href=/atom.xml rel=alternate type=application/atom+xml title="Atom Feed"><link href=https://sanswl.github.io rel=alternate hreflang=zh><link href=https://sanswl.github.io/en/ rel=alternate hreflang=en><link href=https://sanswl.github.io/es/ rel=alternate hreflang=es><link href=https://sanswl.github.io/ja/ rel=alternate hreflang=ja><link href=https://sanswl.github.io/ru/ rel=alternate hreflang=ru><link href=https://sanswl.github.io/zh-tw/ rel=alternate hreflang=zh-TW><meta content=article property=og:type><meta content=https://sanswl.github.io/posts/0471fd9f-059d/ property=og:url><meta content="Neo4j 快速入门学习 | SANSWL's BLOG" property=og:title><meta content="官网文档：https://neo4j.com/docs/getting-started/ 1 : 创建免费的云库 Neo4j AuraDB: Fully Managed Graph Database ：https://neo4j.com..." property=og:description><meta content=https://sanswl.github.io/og/blog/neo4j-快速入门学习.png property=og:image><meta content=summary_large_image name=twitter:card><meta content=@radishzz_ name=twitter:site><meta content=AUCrz5F1e5qbnmKKDXl2Sf8u6y0kOpEO1wLs6HMMmlM name=google-site-verification><meta content=64708CD514011A7965C84DDE1D169F87 name=msvalidate.01><meta content=true name=astro-view-transitions-enabled><meta content=none name=astro-view-transitions-fallback><script type=module src=/_astro/ClientRouter.astro_astro_type_script_index_0_lang.CymAatlR.js></script><script>!function(){function e(e=document){const t=function(){const e=localStorage.getItem("theme");return!e||"dark"===e}();e.documentElement.classList.toggle("dark",t);const n=e.head.querySelector('meta[name="theme-color"]');n&&n.setAttribute("content",t?"oklch(22% 0.005 298)":"oklch(96% 0.005 298)")}function t(e=document){const t=window.matchMedia("(prefers-reduced-motion: reduce)").matches||!("startViewTransition"in e);e.documentElement.classList.toggle("reduce-motion",t)}document.addEventListener("astro:before-swap",(({newDocument:n})=>{e(n),t(n)})),e(),t()}()</script><script type=text/partytown src=https://js.radishzz.cc/jquery.min.js crossorigin=anonymous data-cache=true data-website-id=520af332-bfb7-4e7c-9386-5f273ee3d697></script><link href=/_astro/_about_.BT-Ihf7h.css rel=stylesheet><style>#toc-mobile-text[data-astro-cid-v5otsao3]{margin-left:1rem;font-weight:600}@media (min-width:1536px){#toc-mobile-text[data-astro-cid-v5otsao3]{display:none}}#toc-links-list[data-astro-cid-v5otsao3]{margin-bottom:.625rem;margin-top:.25rem;list-style-type:none;padding-left:0}#toc-links-list[data-astro-cid-v5otsao3]>:not([hidden])~:not([hidden]){--un-space-y-reverse:0;margin-top:calc(.275rem * calc(1 - var(--un-space-y-reverse)));margin-bottom:calc(.275rem * var(--un-space-y-reverse))}@media (min-width:1536px){#toc-links-list[data-astro-cid-v5otsao3]{margin-bottom:.25rem}}@media (min-width:1536px){#toc-links-list[data-astro-cid-v5otsao3]>:not([hidden])~:not([hidden]){--un-space-y-reverse:0;margin-top:calc(.25rem * calc(1 - var(--un-space-y-reverse)));margin-bottom:calc(.25rem * var(--un-space-y-reverse))}}.toc-links-h2[data-astro-cid-v5otsao3],.toc-links-h3[data-astro-cid-v5otsao3],.toc-links-h4[data-astro-cid-v5otsao3]{text-wrap:balance;font-size:.875rem;line-height:1.25rem;font-weight:400;text-decoration:none;transition:color .15s ease-out,font-weight .15s ease-out}.toc-links-h2[data-astro-cid-v5otsao3]:after,.toc-links-h3[data-astro-cid-v5otsao3]:after,.toc-links-h4[data-astro-cid-v5otsao3]:after{bottom:.15em}@media (min-width:1536px){.toc-links-h2[data-astro-cid-v5otsao3],.toc-links-h3[data-astro-cid-v5otsao3],.toc-links-h4[data-astro-cid-v5otsao3]{font-size:.8rem;color:oklch(var(--un-preset-theme-colors-secondary) / .25)}}.toc-link-active[data-astro-cid-v5otsao3]{color:oklch(var(--un-preset-theme-colors-secondary) / .8);font-weight:500}#toc-container[data-astro-cid-v5otsao3]:hover :is(.toc-links-h2,.toc-links-h3,.toc-links-h4)[data-astro-cid-v5otsao3]:hover{--un-text-opacity:var(--un-preset-theme-colors-secondary--alpha, 1);color:oklch(var(--un-preset-theme-colors-secondary) / var(--un-text-opacity));font-weight:500}@media (min-width:1536px){#toc-container[data-astro-cid-v5otsao3]:hover :is(.toc-links-h2,.toc-links-h3,.toc-links-h4)[data-astro-cid-v5otsao3]{color:oklch(var(--un-preset-theme-colors-secondary) / .6)}}@media (min-width:1536px){#toc-container[data-astro-cid-v5otsao3]:hover :is(.toc-links-h2,.toc-links-h3,.toc-links-h4)[data-astro-cid-v5otsao3]:hover{--un-text-opacity:var(--un-preset-theme-colors-primary--alpha, 1);color:oklch(var(--un-preset-theme-colors-primary) / var(--un-text-opacity))}}@media (min-width:1536px){#toc-container[data-astro-cid-v5otsao3]:hover .toc-link-active[data-astro-cid-v5otsao3]{--un-text-opacity:var(--un-preset-theme-colors-primary--alpha, 1);color:oklch(var(--un-preset-theme-colors-primary) / var(--un-text-opacity))}}#toc-toggle[data-astro-cid-v5otsao3]:checked~#toc-accordion-wrapper[data-astro-cid-v5otsao3] #toc-accordion-content[data-astro-cid-v5otsao3]{overflow-y:auto}@media (min-width:1536px){#toc-toggle[data-astro-cid-v5otsao3]:checked~#toc-accordion-wrapper[data-astro-cid-v5otsao3] #toc-accordion-content[data-astro-cid-v5otsao3]{overflow:hidden}}#toc-accordion-content[data-astro-cid-v5otsao3]{max-height:14.825rem;overflow:hidden;padding-left:1rem;padding-right:1.5rem;scrollbar-width:thin;scrollbar-color:oklch(var(--un-preset-theme-colors-secondary) / .15) transparent}@media (min-width:1536px){#toc-accordion-content[data-astro-cid-v5otsao3]{max-height:calc(100vh - 26.75rem);overflow-y:auto;scrollbar-width:none;-ms-overflow-style:none}}#toc-accordion-content[data-astro-cid-v5otsao3]::-webkit-scrollbar{display:none}#toc-accordion-wrapper[data-astro-cid-v5otsao3]{display:grid;grid-template-rows:0fr;transition:grid-template-rows .3s ease-in-out}#toc-toggle[data-astro-cid-v5otsao3]:checked~#toc-accordion-wrapper[data-astro-cid-v5otsao3]{grid-template-rows:1fr}@media (min-width:1536px){#toc-accordion-wrapper[data-astro-cid-v5otsao3]{grid-template-rows:1fr}}@media (min-width:1536px){#toc-toggle[data-astro-cid-v5otsao3]:checked~#toc-accordion-wrapper[data-astro-cid-v5otsao3]{grid-template-rows:0fr}}</style><script type=module src=/_astro/page.BNYwb576.js></script><style>[data-astro-transition-scope=astro-va26yt7w-1]{view-transition-name:post-0471fd9f-059d-zh}@layer astro{::view-transition-old(post-0471fd9f-059d-zh){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}::view-transition-new(post-0471fd9f-059d-zh){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}[data-astro-transition=back]::view-transition-old(post-0471fd9f-059d-zh){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}[data-astro-transition=back]::view-transition-new(post-0471fd9f-059d-zh){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}}[data-astro-transition-fallback=old] [data-astro-transition-scope=astro-va26yt7w-1],[data-astro-transition-fallback=old][data-astro-transition-scope=astro-va26yt7w-1]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}[data-astro-transition-fallback=new] [data-astro-transition-scope=astro-va26yt7w-1],[data-astro-transition-fallback=new][data-astro-transition-scope=astro-va26yt7w-1]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}[data-astro-transition=back][data-astro-transition-fallback=old] [data-astro-transition-scope=astro-va26yt7w-1],[data-astro-transition=back][data-astro-transition-fallback=old][data-astro-transition-scope=astro-va26yt7w-1]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}[data-astro-transition=back][data-astro-transition-fallback=new] [data-astro-transition-scope=astro-va26yt7w-1],[data-astro-transition=back][data-astro-transition-fallback=new][data-astro-transition-scope=astro-va26yt7w-1]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}</style><style>[data-astro-transition-scope=astro-aqc54ihn-2]{view-transition-name:time-0471fd9f-059d-zh}@layer astro{::view-transition-old(time-0471fd9f-059d-zh){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}::view-transition-new(time-0471fd9f-059d-zh){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}[data-astro-transition=back]::view-transition-old(time-0471fd9f-059d-zh){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}[data-astro-transition=back]::view-transition-new(time-0471fd9f-059d-zh){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}}[data-astro-transition-fallback=old] [data-astro-transition-scope=astro-aqc54ihn-2],[data-astro-transition-fallback=old][data-astro-transition-scope=astro-aqc54ihn-2]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}[data-astro-transition-fallback=new] [data-astro-transition-scope=astro-aqc54ihn-2],[data-astro-transition-fallback=new][data-astro-transition-scope=astro-aqc54ihn-2]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}[data-astro-transition=back][data-astro-transition-fallback=old] [data-astro-transition-scope=astro-aqc54ihn-2],[data-astro-transition=back][data-astro-transition-fallback=old][data-astro-transition-scope=astro-aqc54ihn-2]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}[data-astro-transition=back][data-astro-transition-fallback=new] [data-astro-transition-scope=astro-aqc54ihn-2],[data-astro-transition=back][data-astro-transition-fallback=new][data-astro-transition-scope=astro-aqc54ihn-2]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}</style><style>[data-astro-transition-scope=astro-wif6pdce-3]{view-transition-name:site-title-zh}@layer astro{::view-transition-old(site-title-zh){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}::view-transition-new(site-title-zh){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}[data-astro-transition=back]::view-transition-old(site-title-zh){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}[data-astro-transition=back]::view-transition-new(site-title-zh){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}}[data-astro-transition-fallback=old] [data-astro-transition-scope=astro-wif6pdce-3],[data-astro-transition-fallback=old][data-astro-transition-scope=astro-wif6pdce-3]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}[data-astro-transition-fallback=new] [data-astro-transition-scope=astro-wif6pdce-3],[data-astro-transition-fallback=new][data-astro-transition-scope=astro-wif6pdce-3]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}[data-astro-transition=back][data-astro-transition-fallback=old] [data-astro-transition-scope=astro-wif6pdce-3],[data-astro-transition=back][data-astro-transition-fallback=old][data-astro-transition-scope=astro-wif6pdce-3]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}[data-astro-transition=back][data-astro-transition-fallback=new] [data-astro-transition-scope=astro-wif6pdce-3],[data-astro-transition=back][data-astro-transition-fallback=new][data-astro-transition-scope=astro-wif6pdce-3]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}</style></head><body><div class="w-full max-w-205.848 min-h-dvh min-h-vh mx-auto" lg="mx-[max(5.75rem,calc(50vw-34.25rem))] my-20 max-w-[min(calc(75vw-16rem),44rem)] min-h-full p-0" p="x-[min(7.25vw,3.731rem)] y-10"><header class="lg:top-20 cjk:tracking-0.02em lg:uno-desktop-column mb-10.8"><h2 class="c-secondary font-bold font-title lg:c-primary lg:mb-1.8 lg:mt-0 lg:text-9 mb-2.8 mt-3 text-5.375"><div class="inline-block box-content pr-1" data-astro-transition-scope=astro-wif6pdce-3 data-disable-theme-transition><a href=/ id=site-title-link>SANSWL&#39;s BLOG</a></div></h2><div class="c-secondary font-navbar lg:op-100 lg:text-4 op-0 text-3.5" aria-hidden=true>Retypeset - 再现版式之美</div></header><nav aria-label="Site Navigation" class="font-navbar lg:text-4 cjk:tracking-0.02em font-semibold hidden leading-2.45em lg:block lg:bottom-[min(9.04rem+3.85vw,12.5rem)] lg:uno-desktop-column mb-10.5 text-3.6"><ul><li><a href=/ class="c-primary after:bottom-0.7em font-bold highlight-static">文章</a></li><li><a href=/tags/ class="highlight-hover hover:c-primary after:bottom-0.7em hover:font-bold transition-[colors,font-weight]">标签</a></li><li><a href=/about/ class="highlight-hover hover:c-primary after:bottom-0.7em hover:font-bold transition-[colors,font-weight]">关于</a></li></ul></nav><main class=mb-12><article class=heti><div class=relative><button aria-label="Go back" class=hidden id=back-button lg="absolute left--10 top-3.8 block aspect-square w-4.5 c-secondary/40 transition-colors ease-out hover:c-secondary/80 active:scale-90!"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d=M17.8.7L4,12l13.8,11.4.7-.9L7.2,12,18.5,1.5l-.7-.8Z ></path></svg></button><script type=module>function e(t){if(!(t.target instanceof Element?t.target:null)?.closest("#back-button"))return;if(window.history.length>1)return void window.history.back();const e=document.getElementById("site-title-link");e&&e.click()}document.addEventListener("click",e,{passive:!0})</script><h1 class=post-title><span data-astro-transition-scope=astro-va26yt7w-1 data-disable-theme-transition>Neo4j 快速入门学习</span></h1></div><div class="c-primary block font-time mb-17.2" data-astro-transition-scope=astro-aqc54ihn-2 data-disable-theme-transition id=post-date><time datetime=2025-08-05>2025-08-05 </time><span class=ml-1.75>11 min</span></div><div class="2xl:bg-secondary/0 2xl:border-none 2xl:fixed 2xl:left-0 2xl:max-w-[min(calc(50vw-38rem),13rem)] 2xl:top-44.5 bg-secondary/5 mb-6 uno-round-border" data-astro-cid-v5otsao3 id=toc-container><input data-astro-cid-v5otsao3 hidden id=toc-toggle type=checkbox><div class="relative h-12 w-full" data-astro-cid-v5otsao3><label class="flex absolute inset-0 items-center 2xl:c-secondary/40 2xl:ease-out 2xl:flex 2xl:hover:c-secondary/80 2xl:static 2xl:transition-colors cursor-pointer" data-astro-cid-v5otsao3 for=toc-toggle><span data-astro-cid-v5otsao3 id=toc-mobile-text>目录</span><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24" class="ml-4 2xl:active:scale-90! 2xl:block 2xl:mt-4 2xl:origin-center aspect-square hidden w-4.2" data-astro-cid-v5otsao3=true id=toc-desktop-icon><path d="M22.2 2.3H1.8V4h19.9zM22.2 20H1.8v1.7h19.9zM15.5 11.2H1.8v1.6H15z"></path></svg></label></div><div id=toc-accordion-wrapper data-astro-cid-v5otsao3><nav aria-label="Table of Contents" data-astro-cid-v5otsao3 id=toc-accordion-content><ul data-astro-cid-v5otsao3 id=toc-links-list><li class=ml-4 data-astro-cid-v5otsao3><a href=#1-neo4j-介绍 class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>1. Neo4j 介绍</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#2-数据库实例创建 class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>2. 数据库实例创建</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#21-配置文件 class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>2.1 配置文件</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#22-neo4j使用 class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>2.2 Neo4j使用</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#3-cypher操作 class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>3. Cypher操作</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#4-索引约束执行优化 class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>4. 索引约束、执行优化</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#5-管理 class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>5. 管理</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#6-驱动库 class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>6. 驱动库</a></li></ul></nav></div></div><script type=module>let s=null,i=null;function g(){if(!(window.innerWidth>=1536))return;const t=document.getElementById("toc-accordion-content");if(!t)return;const e=t.getElementsByTagName("a");if(0===e.length)return;const n=Array.from(e,(t=>t)),o=n.some((t=>t.classList.contains("toc-links-h2")))?"toc-links-h2":"toc-links-h3",c=new Map;n.forEach((t=>{const e=t.getAttribute("href")?.substring(1);e&&c.set(e,t)}));let r=null;function l(t){t!==r&&(n.forEach((t=>{t.classList.remove("toc-link-active")})),t.classList.add("toc-link-active"),t.classList.contains(o)||function(t){for(let e=n.indexOf(t)-1;e>=0;e--){const t=n[e];if(t.classList.contains(o)){t.classList.add("toc-link-active");break}}}(t),r=t,t.scrollIntoView({behavior:"smooth",block:"nearest"}))}s=new IntersectionObserver((t=>{const e=t.find((t=>t.isIntersecting))?.target?.id;if(e){const t=c.get(e);t&&l(t)}}),{rootMargin:"0% 0% -66% 0%",threshold:[.4]}),Array.from(document.querySelectorAll("h2, h3, h4")).filter((t=>t.id&&"footnotes"!==t.id)).forEach((t=>s?.observe(t)));const a=document.getElementById("post-copyright");a&&(i=new IntersectionObserver((t=>{!t[0].isIntersecting&&t[0].boundingClientRect.top<0&&(n.forEach((t=>t.classList.remove("toc-link-active"))),r=null)}),{rootMargin:"0px 0px 0px 0px",threshold:0}),i?.observe(a),n.length>0&&l(n[0]))}function m(){s?.disconnect(),i?.disconnect(),s=null,i=null}document.addEventListener("astro:after-swap",g),document.addEventListener("astro:before-swap",m),g()</script><div id=post-content><h3 id=1-neo4j-介绍>1. Neo4j 介绍<a href=#1-neo4j-介绍 class=heading-anchor-link aria-label="Link to 1. Neo4j 介绍"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><blockquote><p><img decoding="async" fetchpriority="auto" height="1040" loading="lazy" src="/_astro/3426265-20250805171510361-834497409_ZpnlC3.webp" width="1079" style="--lqip:174819"></p></blockquote><p>官网文档：<a href=https://neo4j.com/docs/getting-started/ rel="nofollow noopener noreferrer external" target=_blank>https://neo4j.com/docs/getting-started/</a></p><h3 id=2-数据库实例创建>2. 数据库实例创建<a href=#2-数据库实例创建 class=heading-anchor-link aria-label="Link to 2. 数据库实例创建"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><ul><li>1 : <em><strong>创建免费的云库</strong></em></li></ul><blockquote><p>Neo4j AuraDB: Fully Managed Graph Database ：<a href=https://neo4j.com/product/auradb/ rel="nofollow noopener noreferrer external" target=_blank>https://neo4j.com/product/auradb/</a></p></blockquote><ul><li>2 : <em><strong>本地 docker 安装</strong></em></li></ul><blockquote><p><code>docker pull neo4j:ubi9</code> 官方镜像：<a href=https://hub.docker.com/_/neo4j rel="nofollow noopener noreferrer external" target=_blank>https://hub.docker.com/_/neo4j</a></p></blockquote><h3 id=21-配置文件>2.1 配置文件<a href=#21-配置文件 class=heading-anchor-link aria-label="Link to 2.1 配置文件"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><blockquote><p><strong>配置文件目录：</strong> <img decoding="async" fetchpriority="auto" height="177" loading="lazy" src="/_astro/3426265-20250805182447717-767456032_26upSM.webp" width="2411" style="--lqip:91427"></p></blockquote><p><strong>eg:</strong></p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=txt style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>#server.memory.pagecache.size=10g  页缓存</span></span>
<span class=line><span>#dbms.memory.transaction.total.max=256m 事务内存</span></span>
<span class=line><span>#db.memory.transaction.max=16m</span></span>
<span class=line><span>#server.default_listen_address=0.0.0.0  网络监听，修改库时拒绝外网接入</span></span>
<span class=line><span>#dbms.security.auth_enabled=false  是否启用验证（忘记密码时使用）</span></span>
<span class=line><span>.......</span></span></code></pre></div><h3 id=22-neo4j使用>2.2 Neo4j使用<a href=#22-neo4j使用 class=heading-anchor-link aria-label="Link to 2.2 Neo4j使用"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><ol><li><strong>数据存储格式介绍</strong></li></ol><blockquote><p>Neo4j 存储数据以<code>节点（Nodes）、标签（Labels）、关系（Relationships）、属性（Properties）</code>四个部分组成； 通常标签使用单数的名词(<strong>Person</strong>)表示，首字母大写，关系使用动词表示(<strong>MARRIED_TO</strong>)，全大写; <code>节点允许多个标签，关系只有一个类型</code> <img decoding="async" fetchpriority="auto" height="858" loading="lazy" src="/_astro/3426265-20250805193220987-1684687334_Kep5B.webp" width="1377" style="--lqip:174627"> <em>匹配节点，关系标签为<code>DIRECTED</code>的结果集，方向为 start -(directed) > end，p变量用来存储完整路径</em> <strong>图中的圆代表节点（Nodes），箭头代表关系（Relationships），圆内的单词（Person、Movie）代表节点的标签，红框内显示的为属性（properties），最上面显示的为Neo4j的Cypher语句，后续详细介绍</strong></p></blockquote><ol start=2><li><strong>数据可视化</strong></li></ol><blockquote><p><a href=http://localhost:7474/browser/preview/ rel="nofollow noopener noreferrer external" target=_blank>http://localhost:7474/browser/preview/</a> (本地) <a href=https://console-preview.neo4j.io/tools/explore rel="nofollow noopener noreferrer external" target=_blank>https://console-preview.neo4j.io/tools/explore</a> (Aura) <strong>安装完毕后，neo4j自带一份浏览器操作页面</strong> <img decoding="async" fetchpriority="auto" height="1373" loading="lazy" src="/_astro/3426265-20250805195222518-986203168_2tfasv.webp" width="2543" style="--lqip:109091"></p></blockquote><h3 id=3-cypher操作>3. <strong>Cypher操作</strong><a href=#3-cypher操作 class=heading-anchor-link aria-label="Link to 3. Cypher操作"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><blockquote><p><a href=http://neo4j.com.cn/public/cypher/default.html rel="nofollow noopener noreferrer external" target=_blank>http://neo4j.com.cn/public/cypher/default.html</a> (中文版) <a href=https://neo4j.com/docs/getting-started/cypher/ rel="nofollow noopener noreferrer external" target=_blank>https://neo4j.com/docs/getting-started/cypher/</a> <a href=https://neo4j.ac.cn/docs/cypher-manual/current/appendix/gql-conformance/ rel="nofollow noopener noreferrer external" target=_blank>https://neo4j.ac.cn/docs/cypher-manual/current/appendix/gql-conformance/</a> GQL标准 <a href=https://kindatechnical.com/cypher/index.html rel="nofollow noopener noreferrer external" target=_blank>https://kindatechnical.com/cypher/index.html</a> (cypher例子解释比较全面)</p></blockquote><h6 id=31-增>3.1 <strong>增:</strong></h6><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=plaintext style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>// 单节点</span></span>
<span class=line><span>CREATE (</span></span>
<span class=line><span>   &#x3C;node-name>:&#x3C;label-name1>:&#x3C;label-name2></span></span>
<span class=line><span>   { 	</span></span>
<span class=line><span>      &#x3C;Property1-name>:&#x3C;Property1-Value></span></span>
<span class=line><span>      ........</span></span>
<span class=line><span>      &#x3C;Propertyn-name>:&#x3C;Propertyn-Value></span></span>
<span class=line><span>   }</span></span>
<span class=line><span>)</span></span>
<span class=line><span>// 带关系</span></span>
<span class=line><span>CREATE (&#x3C;node1-name>:&#x3C;label1-name>)-</span></span>
<span class=line><span>	[&#x3C;relationship-name>:&#x3C;relationship-label-name>]</span></span>
<span class=line><span>	->(&#x3C;node2-name>:&#x3C;label2-name>)</span></span>
<span class=line><span></span></span>
<span class=line><span>CREATE (dept:Dept { deptno:10,dname:"Accounting",location:"Hyderabad" })</span></span>
<span class=line><span>dept:节点名</span></span>
<span class=line><span>Dept:标签名</span></span>
<span class=line><span>{ deptno:10,dname:"Accounting",location:"Hyderabad" }: 节点属性</span></span>
<span class=line><span>CREATE (p1:Profile1)-[r1:LIKES]->(p2:Profile2)</span></span>
<span class=line><span>p1、p2:节点</span></span>
<span class=line><span>r1:关系</span></span></code></pre></div><h6 id=32-查>3.2 <strong>查:</strong></h6><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=plaintext style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>MATCH </span></span>
<span class=line><span>(</span></span>
<span class=line><span>   &#x3C;node-name>:&#x3C;label-name></span></span>
<span class=line><span>)</span></span>
<span class=line><span>###注意：Cypher查询组合是将前一个子句的结果表和图的状态作为输入传递给下一个子句，若输入结果集为空直接结束查询；</span></span>
<span class=line><span>解决方法：使用 OPTIONAL MATCH替换 MATCH 子句</span></span>
<span class=line><span></span></span>
<span class=line><span>//子句组合，下面语句类似SQL：select xx from table where xxx</span></span>
<span class=line><span>MATCH (bornInEighties:Person)</span></span>
<span class=line><span>WHERE bornInEighties.born >= 1980 AND bornInEighties.born &#x3C; 1990</span></span>
<span class=line><span>RETURN bornInEighties.name as name, bornInEighties.born as born</span></span>
<span class=line><span>ORDER BY born DESC</span></span>
<span class=line><span>//查询符合关系的图</span></span>
<span class=line><span>MATCH (m:Movie {title: 'The Matrix'})&#x3C;-[d:DIRECTED]-(p:Person)</span></span>
<span class=line><span>RETURN p.name as director</span></span>
<span class=line><span></span></span>
<span class=line><span>MATCH (tom:Person {name:'Tom Hanks'})-[r]->(m:Movie)</span></span>
<span class=line><span>RETURN type(r) AS type, m.title AS movie</span></span>
<span class=line><span>d,r: 变量，存储的是关系结构</span></span>
<span class=line><span>m,p,tom: 变量，存储的是节点</span></span>
<span class=line><span></span></span>
<span class=line><span>//可变路径，下面两种写法意义相同（版本不同），限制搜索的路径长度，至少一个关系，最多3条关系</span></span>
<span class=line><span>MATCH p=(:Person)-[:ACTED_IN]-{1,3}() RETURN p LIMIT 25;</span></span>
<span class=line><span>MATCH p=(:Person)-[:ACTED_IN*1..3]-() RETURN p LIMIT 25;（不符合GQL标准）</span></span>
<span class=line><span>//结果集：</span></span>
<span class=line><span>(:Person)-[:ACTED_IN]->(:Movie)</span></span>
<span class=line><span>(:Person)-[:ACTED_IN]->(:Movie)&#x3C;-[:ACTED_IN]-(:Person)</span></span>
<span class=line><span>(:Person)-[:ACTED_IN]->(:Movie)&#x3C;-[:ACTED_IN]-(:Person)-[:ACTED_IN]->(:Movie)</span></span>
<span class=line><span></span></span>
<span class=line><span>// 查找两节点最短路径，SHORTEST 关键字是在 Neo4j 5.21 中引入的，它在功能上替代并扩展了 shortestPath() 和 allShortestPaths() 函数</span></span>
<span class=line><span>MATCH p = ALL SHORTEST (:Person {name:"Keanu Reeves"})--+(:Person {name:"Tom Cruise"})</span></span>
<span class=line><span>RETURN count(p) AS pathCount, length(p) AS pathLength</span></span>
<span class=line><span></span></span>
<span class=line><span>//正则，and组合多条件，eg：or、not、xor</span></span>
<span class=line><span>MATCH (p:Person)</span></span>
<span class=line><span>WHERE p.name =~ '^A.*' AND p.age>30</span></span>
<span class=line><span>RETURN p</span></span>
<span class=line><span></span></span>
<span class=line><span>//子查询，对每个p节点做匹配，查询friend关系节点数</span></span>
<span class=line><span>MATCH (p:Person)</span></span>
<span class=line><span>CALL {</span></span>
<span class=line><span>    WITH p</span></span>
<span class=line><span>    MATCH (p)-[:FRIEND]->(friend)</span></span>
<span class=line><span>    RETURN count(friend) AS friendCount</span></span>
<span class=line><span>}</span></span>
<span class=line><span>WHERE friendCount > 2</span></span>
<span class=line><span>RETURN p</span></span>
<span class=line><span></span></span>
<span class=line><span>//组合查询，UNION、UNION DISTINCT 去重</span></span>
<span class=line><span>MATCH (n:Actor)</span></span>
<span class=line><span>RETURN n.name AS name</span></span>
<span class=line><span>UNION ALL</span></span>
<span class=line><span>MATCH (n:Movie)</span></span>
<span class=line><span>RETURN n.title AS name</span></span>
<span class=line><span></span></span>
<span class=line><span>//跳过n行，可做分页</span></span>
<span class=line><span>MATCH (n:Person)</span></span>
<span class=line><span>RETURN n.name</span></span>
<span class=line><span>SKIP {n}</span></span>
<span class=line><span>LIMIT 10</span></span>
<span class=line><span></span></span></code></pre></div><h6 id=33-改>3.3 <strong>改:</strong></h6><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=plaintext style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>//更新属性、删除属性</span></span>
<span class=line><span>MATCH (</span></span>
<span class=line><span>&#x3C;node-name>:&#x3C;lable-name></span></span>
<span class=line><span>)</span></span>
<span class=line><span>WHERE &#x3C;condition></span></span>
<span class=line><span>SET &#x3C;property-name>=&#x3C;Val>,&#x3C;property1-name>=&#x3C;Val1>... / REMOVE &#x3C;property-name></span></span>
<span class=line><span>//条件更新</span></span>
<span class=line><span>MATCH (</span></span>
<span class=line><span>&#x3C;node-name>:&#x3C;lable-name></span></span>
<span class=line><span>)</span></span>
<span class=line><span>SET &#x3C;property-name>= CASE WHEN &#x3C;condition> THEN &#x3C;Val1> ELSE &#x3C;Val2> END</span></span>
<span class=line><span></span></span>
<span class=line><span>//更新时间为2020</span></span>
<span class=line><span>MATCH (a:Person)-[r:FRIENDS_WITH]->(b:Person)</span></span>
<span class=line><span>WHERE a.name = 'Alice' AND b.name = 'Bob'</span></span>
<span class=line><span>SET r.since = 2020</span></span>
<span class=line><span>RETURN r</span></span>
<span class=line><span>r:关系</span></span>
<span class=line><span>since：关系r的属性，值修改为2020</span></span></code></pre></div><h6 id=34-删>3.4 <strong>删:</strong></h6><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=plaintext style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>//删除节点</span></span>
<span class=line><span>MATCH (</span></span>
<span class=line><span>  &#x3C;node-name>:&#x3C;lable-name></span></span>
<span class=line><span>)</span></span>
<span class=line><span>DELETE &#x3C;node-name></span></span>
<span class=line><span></span></span>
<span class=line><span>//删除节点及节点的关系</span></span>
<span class=line><span>MATCH (</span></span>
<span class=line><span>  &#x3C;node-name>:&#x3C;lable-name></span></span>
<span class=line><span>)</span></span>
<span class=line><span>DETACH DELETE &#x3C;node-name></span></span>
<span class=line><span></span></span>
<span class=line><span>//删除关系</span></span>
<span class=line><span>MATCH (</span></span>
<span class=line><span>  &#x3C;node-name>:&#x3C;lable-name></span></span>
<span class=line><span>) -[&#x3C;relationship-name>:&#x3C;lable-name>]-></span></span>
<span class=line><span>(</span></span>
<span class=line><span>&#x3C;node-name>:&#x3C;lable-name></span></span>
<span class=line><span>)</span></span>
<span class=line><span>DELETE &#x3C;relationship-name></span></span></code></pre></div><h6 id=35-函数-httpsneo4jaccndocscypher-manualcurrentfunctions>3.5 <strong>函数:</strong> <a href=https://neo4j.ac.cn/docs/cypher-manual/current/functions/ rel="nofollow noopener noreferrer external" target=_blank>https://neo4j.ac.cn/docs/cypher-manual/current/functions/</a></h6><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=plaintext style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>###类似SQL，具有MAX、MIN、AVG、SUM等函数</span></span>
<span class=line><span>collect(): 返回一个集合[...]</span></span></code></pre></div><h3 id=4-索引约束执行优化>4. 索引约束、执行优化<a href=#4-索引约束执行优化 class=heading-anchor-link aria-label="Link to 4. 索引约束、执行优化"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><h6 id=41-索引>4.1 索引</h6><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=plaintext style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>搜索性能索引 </span></span>
<span class=line><span>CREATE [/TEXT/POINT/LOOK UP] INDEX INDEX_NAME FOR [node/path] on (&#x3C;property>,&#x3C;property>) 添加索引</span></span>
<span class=line><span>SHOW INDEXES / SHOW INDEXES YIELD * （指定显示索引信息列）  显示所有索引</span></span>
<span class=line><span>DROP INDEX index_name [IF EXISTS]  删除索引</span></span></code></pre></div><blockquote><ul><li>范围索引：Neo4j 的默认索引。支持大多数类型的谓词。</li><li>文本索引：只解决对 STRING 值进行操作的谓词。针对使用 STRING 运算符 CONTAINS 和 ENDS WITH 进行过滤的查询进行了优化。</li><li>点索引：解决空间 POINT 值上的谓词。针对按距离或边界框内过滤的查询进行了优化。</li><li>令牌查找索引：默认存在，仅解决节点标签和关系类型谓词（即它们无法解决任何基于属性过滤的谓词）。在 Neo4j 中创建数据库时，会存在两个令牌查找索引（一个用于节点标签，一个用于关系类型）。</li></ul></blockquote><p><code>作用谓词</code>：</p><blockquote><p>范围: 等值 (=), 范围(>),存在(is not null),成员(in),前缀(starts with) 文本: 等值 (=), 成员(in),前缀(starts with),后缀(ends with),子字符(contains) 点: 属性点值(<code>n.porp=point{k:v}</code>),边框内(<code>point.withinBBox(n.prop, l, h)</code>), 距离(<code>point.distance(n.prop, center) &#x3C; = distance</code>) 令牌: 节点标签(n</p><div></div>),关系类型([r<div></div>]),match或where查询Lable时作用<p></p></blockquote><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=plaintext style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>语义索引</span></span>
<span class=line><span>CREATE [FULLTEXT/VECTOR] INDEX FOR [node/path] on EACH [...] 添加索引</span></span>
<span class=line><span>db.index.fulltext.queryNodes 或 db.index.fulltext.queryRelationships  (全文索引查询)</span></span>
<span class=line><span>SHOW FULLTEXT INDEXES (查看索引状态,全文索引处在 POPULATING 不可使用)</span></span></code></pre></div><blockquote><ul><li>全文索引：允许在 STRING 属性的内容中进行搜索，并比较查询字符串与数据库中存储的 STRING 值之间的相似性。</li><li>向量索引：通过将节点或属性表示为多维空间中的向量，实现相似性搜索和复杂的分析查询。</li></ul></blockquote><h6 id=42-约束>4.2 约束</h6><p>完整语法文档: <a href=https://neo4j.ac.cn/docs/cypher-manual/current/constraints/syntax/#create-property-existence-constraints rel="nofollow noopener noreferrer external" target=_blank>https://neo4j.ac.cn/docs/cypher-manual/current/constraints/syntax/#create-property-existence-constraints</a></p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=plaintext style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>###非完整展示####</span></span>
<span class=line><span>属性唯一性:</span></span>
<span class=line><span>CREATE CONSTRAINT [constraint_name] [IF NOT EXISTS]FOR (n:LabelName)</span></span>
<span class=line><span>REQUIRE (n.propertyName_1, ..., n.propertyName_n) IS [NODE] UNIQUE</span></span>
<span class=line><span>属性存在:</span></span>
<span class=line><span>CREATE CONSTRAINT [constraint_name] [IF NOT EXISTS]</span></span>
<span class=line><span>FOR (n:LabelName)</span></span>
<span class=line><span>REQUIRE n.propertyName IS NOT NULL</span></span>
<span class=line><span>属性类型:</span></span>
<span class=line><span>CREATE CONSTRAINT [constraint_name] [IF NOT EXISTS]</span></span>
<span class=line><span>FOR (n:LabelName)</span></span>
<span class=line><span>REQUIRE n.propertyName {[IS] :: | IS TYPED} &#x3C;TYPE></span></span>
<span class=line><span>键:</span></span>
<span class=line><span>CREATE CONSTRAINT [constraint_name] [IF NOT EXISTS]</span></span>
<span class=line><span>FOR (n:LabelName)</span></span>
<span class=line><span>REQUIRE (n.propertyName_1, ..., n.propertyName_n) IS [NODE] KEY</span></span>
<span class=line><span>显示约束: SHOW CONSTRAINTS</span></span></code></pre></div><blockquote><ul><li>属性唯一性约束确保所有具有特定标签的节点或所有具有特定类型的关系，其组合属性值是唯一的。</li><li>属性存在性约束确保对于所有具有特定标签的节点或所有具有特定类型的关系，某个属性是存在的。企业版</li><li>属性类型约束确保对于所有具有特定标签的节点或所有具有特定类型的关系，某个属性具有所需的属性类型。5.9 版引入 企业版</li><li>键约束确保所有属性都存在，并且对于所有具有特定标签的节点或所有具有特定类型的关系，其组合属性值是唯一的。企业版</li></ul></blockquote><h6 id=43-执行计划>4.3 执行计划</h6><ul><li>4.3.1 Cypher 查询执行生命周期 <img decoding="async" fetchpriority="auto" height="460" loading="lazy" src="/_astro/neo4j-lifecircle.BvjiXkfW_Z1gVLyT.webp" width="491" style="--lqip:174819"></li></ul><blockquote><p>Cypher语句首先进行语句解析,到达规划器,规划器生成逻辑计划,此逻辑计划是规划器选定的最高效方案,逻辑计划此后转化为物理计划,物理计划操作数据库进行查询,物理计划执行由<code>Cypher运行时</code>负责. <code>Cypher运行时</code>：Cypher 提供了三种运行时：分段式 (slotted)【社区版默认】、流水线式 (pipelined)【企业版默认】 和并行式 (parallel)；具体不做描述，即选择控制运算符如何处理数据的几种方案，slotted运算符逐行处理，pipelined允许运算符合并批次处理，执行计划会将指令分成数块流水线</p></blockquote><ul><li>4.3.2 查看执行计划</li></ul><blockquote><p><code>profile:</code>获取执行过程,查询指令（Cypher语句）会执行并进行指令追踪，影响性能</p></blockquote><blockquote><p><code>explain:</code> 获取执行计划,查询指令（Cypher语句）不会执行,操作符的二叉树</p></blockquote><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=plaintext style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>#执行计划：</span></span>
<span class=line><span>EXPLAIN</span></span>
<span class=line><span>MATCH (:Station { name: 'Denmark Hill' })&#x3C;-[:CALLS_AT]-(d:Stop)</span></span>
<span class=line><span>  ((:Stop)-[:NEXT]->(:Stop))+</span></span>
<span class=line><span>  (a:Stop)-[:CALLS_AT]->(:Station { name: 'Clapham Junction' })</span></span>
<span class=line><span>RETURN count(*)</span></span></code></pre></div><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=plaintext style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>执行计划阅读流程为从下往上，NodeByLabelScan -> ProduceResults(最终结果)   </span></span>
<span class=line><span>+-------------------+----+------------------------------------------------------------------------+----------------+---------------------+</span></span>
<span class=line><span>| Operator          | Id | Details                                                                | Estimated Rows | Pipeline            |</span></span>
<span class=line><span>+-------------------+----+------------------------------------------------------------------------+----------------+---------------------+</span></span>
<span class=line><span>| +ProduceResults   |  0 | `count(*)`                                                             |              1 | In Pipeline 3       |</span></span>
<span class=line><span>| |                 +----+------------------------------------------------------------------------+----------------+---------------------+</span></span>
<span class=line><span>| +EagerAggregation |  1 | count(*) AS `count(*)`                                                 |              1 |                     |</span></span>
<span class=line><span>| |                 +----+------------------------------------------------------------------------+----------------+                     |</span></span>
<span class=line><span>| +Filter           |  2 | NOT anon_1 = anon_5 AND anon_0.name = $autostring_0 AND anon_0:Station |              0 |                     |</span></span>
<span class=line><span>| |                 +----+------------------------------------------------------------------------+----------------+                     |</span></span>
<span class=line><span>| +Expand(All)      |  3 | (d)-[anon_1:CALLS_AT]->(anon_0)                                        |              0 |                     |</span></span>
<span class=line><span>| |                 +----+------------------------------------------------------------------------+----------------+                     |</span></span>
<span class=line><span>| +Filter           |  4 | d:Stop                                                                 |              0 |                     |</span></span>
<span class=line><span>| |                 +----+------------------------------------------------------------------------+----------------+                     |</span></span>
<span class=line><span>| +NullifyMetadata  | 14 |                                                                        |              0 |                     |</span></span>
<span class=line><span>| |                 +----+------------------------------------------------------------------------+----------------+                     |</span></span>
<span class=line><span>| +Repeat(Trail)    |  5 | (a) (...){1, *} (d)                                                    |              0 | Fused in Pipeline 2 |</span></span>
<span class=line><span>| |\                +----+------------------------------------------------------------------------+----------------+---------------------+</span></span>
<span class=line><span>| | +Filter         |  6 | isRepeatTrailUnique(anon_8) AND anon_7:Stop                            |              6 |                     |</span></span>
<span class=line><span>| | |               +----+------------------------------------------------------------------------+----------------+                     |</span></span>
<span class=line><span>| | +Expand(All)    |  7 | (anon_9)&#x3C;-[anon_8:NEXT]-(anon_7)                                       |              6 |                     |</span></span>
<span class=line><span>| | |               +----+------------------------------------------------------------------------+----------------+                     |</span></span>
<span class=line><span>| | +Filter         |  8 | anon_9:Stop                                                            |             11 |                     |</span></span>
<span class=line><span>| | |               +----+------------------------------------------------------------------------+----------------+                     |</span></span>
<span class=line><span>| | +Argument       |  9 | anon_9                                                                 |             13 | Fused in Pipeline 1 |</span></span>
<span class=line><span>| |                 +----+------------------------------------------------------------------------+----------------+---------------------+</span></span>
<span class=line><span>| +Filter           | 10 | a:Stop                                                                 |              0 |                     |</span></span>
<span class=line><span>| |                 +----+------------------------------------------------------------------------+----------------+                     |</span></span>
<span class=line><span>| +Expand(All)      | 11 | (anon_6)&#x3C;-[anon_5:CALLS_AT]-(a)                                        |              0 |                     |</span></span>
<span class=line><span>| |                 +----+------------------------------------------------------------------------+----------------+                     |</span></span>
<span class=line><span>| +Filter           | 12 | anon_6.name = $autostring_1                                            |              1 |                     |</span></span>
<span class=line><span>| |                 +----+------------------------------------------------------------------------+----------------+                     |</span></span>
<span class=line><span>| +NodeByLabelScan  | 13 | anon_6:Station                                                         |             10 | Fused in Pipeline 0 |</span></span>
<span class=line><span>+-------------------+----+------------------------------------------------------------------------+----------------+---------------------+</span></span></code></pre></div><h6 id=44-查询优化>4.4 查询优化</h6><h3 id=5-管理>5. 管理<a href=#5-管理 class=heading-anchor-link aria-label="Link to 5. 管理"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><h6 id=51-访问控制>5.1 访问控制</h6><h3 id=6-驱动库>6. 驱动库<a href=#6-驱动库 class=heading-anchor-link aria-label="Link to 6. 驱动库"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><div id=post-copyright></div><div class="mt-12.6 uno-decorative-line"></div><div class="no-heti flex flex-wrap gap-x-3 gap-y-3.2"><a href=/tags/Article/ class="hover:c-primary border border-secondary/25 ease-out hover:border-secondary/80 hover:font-medium hover:ring-0.2 inline-block px-3.2 py-0.7 relative ring-0 ring-secondary/80 rounded-full transition-[colors,box-shadow]"><span class="flex absolute inset-0 items-center justify-center transition-font-weight whitespace-nowrap">Article </span><span class="inline-block font-medium opacity-0" aria-hidden=true>Article</span></a></div></div></article></main><footer class="font-navbar leading-1.25em lg:text-3.5 text-3" lg="uno-desktop-column bottom-20"><p><a href=https://github.com/sansWl class="highlight-hover hover:c-primary after:bottom-0.35em py-0.8 transition-colors" rel="noopener noreferrer" target=_blank>GitHub</a>&nbsp;/ <a href=mailto:wale990503@163.com class="highlight-hover hover:c-primary after:bottom-0.35em py-0.8 transition-colors" rel="noopener noreferrer" target=_blank>Email</a>&nbsp;</p><p>© 2025 SANSWL</p><p>Powered by <a href=https://astro.build/ class="highlight-hover hover:c-primary after:bottom-0.35em py-0.8 transition-colors" rel="noopener noreferrer" target=_blank>Astro</a> and <a href=https://github.com/radishzzz/astro-theme-retypeset class="highlight-hover hover:c-primary after:bottom-0.35em py-0.8 transition-colors" rel="noopener noreferrer" target=_blank>Retypeset</a></p></footer></div><div class="flex absolute gap-6 lg:bottom-[min(10.27rem+1.92vw,12rem)] lg:fixed lg:right-[max(5rem,calc(50vw-35rem))] lg:top-auto lg:w-14rem min-[823px]:max-lg:right-[calc(50vw-22rem)] right-7.25vw top-14.6"><a href=/posts/0471fd9f-059d/ class="hover:c-primary active:scale-90 aspect-square c-secondary w-4" aria-label="Switch website language" id=language-switcher><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M19.18 21.1 12.4 1.89h-1.21L4.52 21.1l-2.53.2v.81h6.37v-.81l-2.83-.2 2.02-5.97h7.58l2.02 5.97-3.34.2v.81H22v-.81l-2.83-.2zM7.85 14.33l3.44-10.21 3.54 10.21z"></path></svg> </a><button aria-label="Switch light/dark theme" class="hover:c-primary active:scale-90 aspect-square c-secondary w-4" id=theme-toggle-button><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M12.06.61C5.66.61.46 5.71.46 12.11s5.1 11.5 11.6 11.5 11.5-5.1 11.5-11.5S18.46.61 12.06.61m0 21c-6.07 0-10.94-4.2-10.94-9.5s4.87-9.4 10.94-9.4S23 6.91 23 12.21s-4.88 9.4-10.94 9.4"></path></svg></button></div><script>!function(){const e="oklch(96% 0.005 298)",t="oklch(22% 0.005 298)";function n(n){document.documentElement.classList.toggle("dark",n);const o=document.head.querySelector('meta[name="theme-color"]');o&&e&&t&&o.setAttribute("content",n?t:e),localStorage.setItem("theme",n?"dark":"light"),document.dispatchEvent(new Event("theme-changed"))}function o(){n(!document.documentElement.classList.contains("dark"))}document.addEventListener("click",(function(e){const t=e.target instanceof Element?e.target:null,n=t?.closest("#theme-toggle-button");if(!n)return;if(document.documentElement.classList.contains("reduce-motion"))return void o();document.documentElement.style.setProperty("view-transition-name","animation-theme-toggle"),document.documentElement.setAttribute("data-theme-changing",""),document.startViewTransition(o).finished.then((()=>{document.documentElement.style.removeProperty("view-transition-name"),document.documentElement.removeAttribute("data-theme-changing")}))}),{passive:!0}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>{n(e.matches)}))}()</script><script type=module>const o={click:"tap",typing:"type"},l={[o.click]:.8,[o.typing]:.4},d=["#language-switcher","#theme-toggle-button"],f=[".el-input__inner",".el-textarea__inner","#wl-nick","#wl-mail","#wl-link","#wl-edit"],h=new Set(["Shift","Control","Alt","Meta","Tab","Escape","CapsLock"]),p=d.join(","),g=f.join(",");function r(){return window.matchMedia("(max-width: 1023px)").matches}function w(){return document.head.querySelector('link[rel="sitemap"]')?.getAttribute("href")?.replace("/sitemap-index.xml","")||""}class y{audioContext=null;audioBuffers={[o.click]:[],[o.typing]:[]};initPromise=null;async fetchAndCacheSound(t,e){if(!this.audioContext)throw new Error("Audio context not initialized");const n=`${t}_0${e+1}`,i=await(await fetch(`${w()}/sounds/${n}.wav`)).arrayBuffer(),a=await this.audioContext.decodeAudioData(i);this.audioBuffers[t].push(a)}async preloadAllSounds(){const t=Object.values(o).flatMap((t=>Array.from({length:5},((e,n)=>this.fetchAndCacheSound(t,n)))));await Promise.allSettled(t)}async initialize(){return this.initPromise??=(async()=>{const t=window.AudioContext||window.webkitAudioContext;this.audioContext=new t,await this.preloadAllSounds()})()}async playSound(t){try{if(await this.initialize(),!this.audioContext)return;"suspended"===this.audioContext.state&&await this.audioContext.resume();const e=this.audioBuffers[t];if(0===e.length)return;const n=this.audioContext.createBufferSource();n.buffer=e[Math.floor(Math.random()*e.length)];const i=this.audioContext.createGain();i.gain.value=l[t],n.connect(i).connect(this.audioContext.destination),n.start(0)}catch(t){console.warn("Sound playback failed:",t)}}}const c=new y;function m(t){r()||!t.target?.closest(p)||c.playSound(o.click)}function x(t){r()||t.ctrlKey||t.altKey||t.metaKey||h.has(t.key)||!t.target?.closest(g)||c.playSound(o.typing)}document.addEventListener("click",m,{passive:!0}),document.addEventListener("keydown",x,{passive:!0})</script><script type=module>const s={copy:'<svg\n      viewBox="0 0 24 24"\n      fill="currentColor"\n    >\n      <path d="M6.9.8v18h14.5V.8zm12.8 16h-11v-14h11z"/>\n      <path d="M4.3 21.2V5.6l-1.7.5v17.1h14.3l.6-2z"/>\n    </svg>',success:'<svg\n      viewBox="0 0 24 24"\n      fill="currentColor"\n    >\n      <path d="m23.1 6.4-1.3-1.3L9.4 16.6l-6.3-5.4-1.2 1.2L9.4 20z"/>\n    </svg>'},o=new WeakMap;function r(){const e=document.querySelectorAll(".code-copy-button");0!==e.length&&e.forEach((e=>{e.innerHTML=s.copy}))}async function a(e){if(e.classList.contains("copy-success"))return;const t=e.parentElement?.querySelector("pre code"),n=t?.textContent??"";if(t&&n)try{await navigator.clipboard.writeText(n);const t=o.get(e);t&&clearTimeout(t),e.innerHTML=s.success,e.classList.add("copy-success");const c=setTimeout((()=>{e.isConnected&&(e.innerHTML=s.copy,e.classList.remove("copy-success"),o.delete(e))}),1500);o.set(e,c)}catch(e){console.error("Failed to copy code",e)}}function l(e){const t=e.target instanceof Element&&e.target.closest(".code-copy-button");t&&a(t)}document.addEventListener("astro:page-load",r),document.addEventListener("click",l,{passive:!0}),r()</script><script type=module>async function p(t){const e=t.dataset.repo;if(!e)return;const o=t.getElementsByClassName("gc-owner-avatar")[0],n=t.getElementsByClassName("gc-repo-description")[0],s=t.getElementsByClassName("gc-stars-count")[0],a=t.getElementsByClassName("gc-forks-count")[0],r=t.getElementsByClassName("gc-license-info")[0];function c(t){const e=new Intl.NumberFormat("en",{notation:"compact",maximumFractionDigits:1});o&&t.owner?.avatar_url&&(o.style.backgroundImage=`url(${t.owner.avatar_url})`),n&&(n.textContent=t.description??"No description"),s&&(s.textContent=e.format(t.stargazers_count??0)),a&&(a.textContent=e.format(t.forks_count??0)),r&&(r.textContent=t.license?.spdx_id??"No License")}const i=`github-repo-${e}`,m=sessionStorage.getItem(i);if(m){c(JSON.parse(m))}else try{const t=await fetch(`https://api.github.com/repos/${e}`);if(!t.ok){if(n){const e=404===t.status?"Repository not found":"Failed to load repository data";n.textContent=e}return}const o=await t.json();sessionStorage.setItem(i,JSON.stringify(o)),c(o)}catch(t){console.error(`Failed to fetch ${e}:`,t)}}function f(){const t=document.getElementsByClassName("gc-container");0!==t.length&&Array.from(t).forEach((t=>{p(t)}))}document.addEventListener("astro:page-load",f),f()</script><script type=module src=/_astro/MediaEmbed.astro_astro_type_script_index_0_lang.wKrCMCCr.js></script><script type=module>const n={overlay:document.querySelector(".zoom-overlay"),zoomedImg:null,originalImg:null,createOverlay(){this.overlay&&this.overlay.isConnected||(this.overlay=document.createElement("div"),this.overlay.classList.add("zoom-overlay"),this.overlay.setAttribute("role","dialog"),this.overlay.setAttribute("aria-modal","true"),this.overlay.setAttribute("aria-label","Image Viewer"),this.overlay.setAttribute("tabindex","-1"),Object.assign(this.overlay.style,{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",zIndex:"999",backgroundColor:"oklch(var(--un-preset-theme-colors-background) / 0.95)",opacity:"0",transition:"opacity 300ms cubic-bezier(0.4, 0, 0.2, 1)",cursor:"zoom-out",display:"none"}),document.body.appendChild(this.overlay))},zoomImg(e){if(!this.overlay)return;document.body.style.overflow="hidden";const t=e.getBoundingClientRect();this.originalImg=e,this.zoomedImg=e.cloneNode(),Object.assign(this.zoomedImg.style,{position:"fixed",top:`${t.top}px`,left:`${t.left}px`,width:`${t.width}px`,height:`${t.height}px`,transition:"transform 300ms cubic-bezier(0.4, 0, 0.2, 1)",zIndex:"1000",cursor:"zoom-out"}),document.body.appendChild(this.zoomedImg),this.overlay.style.display="block",this.overlay.focus();const o=window.innerWidth,i=window.innerHeight,s=window.innerWidth<768?1:.8,l=Math.min(o*s/t.width,i*s/t.height),a=(-t.left+(o-t.width)/2)/l,n=(-t.top+(i-t.height)/2)/l;requestAnimationFrame((()=>{this.overlay&&(this.overlay.style.opacity="1"),this.zoomedImg&&(this.zoomedImg.style.transform=`scale(${l}) translate3d(${a}px, ${n}px, 0)`)}))},close(){!this.overlay||!this.zoomedImg||!this.originalImg||(this.zoomedImg.style.transform="",this.overlay.style.opacity="0",document.body.style.overflow="",setTimeout((()=>{this.zoomedImg&&this.zoomedImg.parentNode&&document.body.removeChild(this.zoomedImg),this.zoomedImg=null,this.overlay&&(this.overlay.style.display="none"),this.originalImg&&this.originalImg.focus(),this.originalImg=null}),300))},setupOverlay(){this.createOverlay(),this.zoomedImg=null,this.originalImg=null},handleClick(e){if(this.zoomedImg)return void this.close();const t=e.target;t instanceof HTMLImageElement&&t.complete&&t.naturalWidth>=100&&t.naturalHeight>=100&&this.zoomImg(t)},handleResize(){this.zoomedImg&&this.close()},init(){this.createOverlay(),document.addEventListener("astro:page-load",(()=>this.setupOverlay())),document.addEventListener("click",(e=>this.handleClick(e)),{passive:!0}),window.addEventListener("resize",(()=>this.handleResize()),{passive:!0})}};n.init()</script></body></html>